@page "/article/{Id}"
@using Blazor.Controller
@using Blazor.Models
@inject IArticleController ArticleController
@inject IAutorController AutorController
@inject IJSRuntime JSRuntime

    <div class="container flex-fill">
        <h3>@articleEntity.Title</h3>

        <div>@((MarkupString)articleEntity.ArticleText)</div>

        <div class="font-weight-bold mt-xl-3">Дата: @articleEntity.CreateData.ToString("dd.mm.yyyy") Автор: @autorEntity.Name</div>
    </div>
    @code {

        [Parameter] public string Id { get; set; }

        Article articleEntity = new Article();
        Autor autorEntity = new Autor();

        protected override async Task OnInitializedAsync()
        {
            articleEntity = await ArticleController.GetById(Convert.ToInt32(Id));
            autorEntity = await AutorController.GetById(Convert.ToInt32(articleEntity.AutorID));

        }


        protected override async Task OnAfterRenderAsync(bool firstRender)
        {
            await JSRuntime.InvokeVoidAsync("setTitle", articleEntity.Title); ;
        }

    }
